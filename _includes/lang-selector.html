<!-- ì–¸ì–´ ì•„ì´ì½˜ ì„ íƒ ë²„ì „ -->
<style>
.lang-icons {
  display: flex;
  gap: 15px;
  margin: 10px 0;
}

.lang-icon {
  font-size: 2rem;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.lang-icon:hover {
  transform: scale(1.2);
}
</style>

<div class="lang-icons" role="list" aria-label="Select Language">
  <span
    role="listitem"
    class="lang-icon"
    onclick="switchLang('ko')"
    title="í•œêµ­ì–´"
    tabindex="0"
    aria-current="{{ site.active_lang == 'ko' }}"
    onkeydown="if(event.key==='Enter' || event.key===' ') switchLang('ko')"
  >
    ğŸ‡°ğŸ‡·
  </span>

  <span
    role="listitem"
    class="lang-icon"
    onclick="switchLang('en')"
    title="English"
    tabindex="0"
    aria-current="{{ site.active_lang == 'en' }}"
    onkeydown="if(event.key==='Enter' || event.key===' ') switchLang('en')"
  >
    ğŸ‡ºğŸ‡¸
  </span>
</div>

<script>
  function switchLang(targetLang) {
    const base = "{{ site.baseurl }}"; // "/sermon"
    const path = window.location.pathname;

    // baseurl ì œê±°í•œ ìƒëŒ€ ê²½ë¡œ
    const relativePath = path.startsWith(base) ? path.slice(base.length) : path;

    // ì–¸ì–´ ì ‘ë‘ì–´ ì œê±°
    const cleanPath = relativePath.replace(/^\/en/, "");

    let newPath = base;
    if (targetLang === "en") {
      newPath += "/en" + cleanPath;
    } else {
      newPath += cleanPath;
    }

    // í•­ìƒ ëì— "/" ë¶™ì´ê¸°
    if (!newPath.endsWith("/")) newPath += "/";

    window.location.href = newPath;
  }
</script>